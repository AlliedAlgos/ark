<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy Now | AlliedARK Components</title>
    <!-- Load Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for social icons in the footer -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

    <style>
      /* Custom styles to ensure the page takes up the full viewport height */
      body {
        min-height: 100vh;
        font-family: 'Inter', sans-serif;
        scroll-behavior: smooth;
      }
      /* Define the scroll effect styles for the navbar */
      .scrolled-nav-style {
          /* VERY STRONG BLUR and clean bottom shadow */
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); 
          backdrop-filter: blur(20px); /* MUCH STRONGER BLUR */
          background-color: rgba(255, 255, 255, 0.85); /* Slightly more transparent */
      }

      /* --- FULL-SCREEN TRUCK ANIMATION STYLES --- */
      
      /* Truck animation using keyframes */
      #loadingTruck {
        position: fixed;
        bottom: 40px; /* Move above tire line */
        left: -100vw; /* Start completely off-screen left (HIDDEN DEFAULT) */
        width: 180px;
        z-index: 9999;
        /* Opacity handled by the animation keyframes */
        opacity: 0; 
      }

      /* driveIn is no longer used, but kept for context if you change your mind */
      @keyframes driveIn {
        0% { left: -100vw; opacity: 1; } /* Start off-screen */
        100% { left: 5vw; opacity: 1; } /* Resting position visible on screen */
      }

      @keyframes driveOff {
        0% { left: 5vw; opacity: 1; } /* START: Truck appears at start line */
        100% { left: 100vw; opacity: 1; } /* END: Truck drives completely off-screen right */
      }

      .drive-in {
        animation: driveIn 2s forwards;
      }

      .drive-off {
        animation: driveOff 2s forwards;
      }

      /* Tire marks */
      #tireMarks {
        position: fixed;
        bottom: 20px;
        left: 0;
        height: 20px;
        width: 0;
        background: repeating-linear-gradient(
          to right,
          #444 0 10px,
          #222 10px 20px
        );
        transition: width 2s linear;
        opacity: 0.4;
        z-index: 9998;
      }

      /* Payment processed message */
      #paymentMessage {
        position: fixed;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #10b981;
        color: white;
        padding: 1.5rem 2rem;
        font-size: 1.5rem;
        border-radius: 1rem;
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
        z-index: 10000;
      }
    </style>
</head>
<body class="bg-gray-100 text-gray-900 flex flex-col min-h-screen">

    <!-- Navbar: Best Navbar Ever (Integrated Content) -->
    <nav id="main-nav" class="sticky top-0 z-50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo/Site Title -->
                <div class="shrink-0">
                  <img src="https://alliedalgos.github.io/website/images/Allied-Algorithms_logo.svg " alt="AlliedARK Logo" class="h-8 w-8 inline-block mr-2">
                    <a href="#" class="text-2xl font-bold text-indigo-600 tracking-wider">
                        AlliedARK
                    </a>
                </div>

                <!-- Desktop Menu (Hidden on Mobile) -->
                <div class="hidden md:flex space-x-4 bg-blurred-white/90 backdrop-blur-xl border border-gray-200 px-4 py-2 rounded-lg shadow-md">
                    <a href="./directions.html" class="text-gray-700 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition duration-150">Directions</a>
                    <a href="./buy-now.html" class="text-indigo-600 font-bold px-3 py-2 rounded-md text-sm transition duration-150 bg-indigo-50/50">Buy-Now</a>
                    <a href="./index.html" class="text-gray-700 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition duration-150">App Design</a>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white transition duration-150" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <!-- Icon when menu is closed -->
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <!-- Icon when menu is open (Hidden initially) -->
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="md:hidden hidden bg-blurred-white/90 backdrop-blur-xl border-t border-gray-200">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="./directions.html" class="text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 block px-3 py-2 rounded-md text-base font-medium transition duration-150">Directions</a>
                <a href="./buy-now.html" class="bg-indigo-50 text-indigo-700 block px-3 py-2 rounded-md text-base font-medium transition duration-150" aria-current="page">Buy-Now</a>
                <a href="./index.html" class="text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 block px-3 py-2 rounded-md text-base font-medium transition duration-150">App Design</a>
            </div>
        </div>
    </nav>

    <!-- TRUCK ANIMATION ELEMENTS -->
    <!-- Tire Marks -->
    <div id="tireMarks"></div>

    <!-- Truck Animation -->
    <img id="loadingTruck" src="https://cdn-icons-png.freepik.com/512/9220/9220839.png" alt="Delivery Truck" />

    <!-- Payment Processed Message -->
    <div id="paymentMessage">Your purchase has been processed!</div>


    <!-- Main Content: Single Purchase Interface -->
    <main class="grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="bg-white shadow-xl rounded-2xl p-8 sm:p-10 flex flex-col md:flex-row gap-8 md:gap-10 items-center max-w-4xl w-full">
            
            <!-- Left Side Button & Text -->
            <div class="flex flex-col justify-center text-center md:text-left md:w-1/2">
                <h1 class="text-4xl font-extrabold mb-4 text-gray-800">Complete AlliedARK Kit</h1>
                <p class="text-xl text-indigo-600 mb-6">
                    Get the microcontroller, sensors, and STL files to build your smart artifact brick today!
                </p>
                
                <div class="text-4xl font-extrabold text-green-600 mb-8">$50.00</div>

                <button onclick="simulatePayment()" class="bg-indigo-600 text-white px-8 py-4 rounded-xl hover:bg-indigo-700 text-xl font-bold transition duration-300 transform hover:scale-[1.02] shadow-lg">
                    Buy Now & Ship!
                </button>
            </div>

            <!-- Right Side Image -->
            <div class="md:w-1/2 flex justify-center">
                <!-- Using a placeholder for a kit image -->
                <img src="https://placehold.co/350x250/374151/ffffff?text=AlliedARK+Kit" alt="AlliedARK Product Kit Image" class="w-full max-w-sm rounded-xl shadow-2xl" />
            </div>
        </div>
    </main>
    

    <!-- Footer (Integrated Content) -->
    <footer id="footer" class="bg-gray-900 text-gray-300 py-12 px-6 md:px-12 shadow-inner rounded-t-lg mt-auto">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 text-center md:text-left">

            <!-- Official Resources -->
            <div>
                <h3 class="text-xl font-semibold text-white mb-4">Official Resources</h3>
                <ul class="space-y-2 text-sm">
                    <li><a href="https://www.firstlegoleague.org/" target="_blank" rel="noopener noreferrer" class="hover:text-white transition duration-300 ease-in-out block">FIRST LEGO League Official Site</a></li>
                    <li><a href="https://www.firstinspires.org/" target="_blank" rel="noopener noreferrer" class="hover:text-white transition duration-300 ease-in-out block">FIRST Robotics Official Site</a></li>
                    <li><a href="https://www.youtube.com/watch?v=ErDj8myI_Tg" target="_blank" rel="noopener noreferrer" class="hover:text-white transition duration-300 ease-in-out block">FLL Challenge 25 Video</a></li>
                </ul>
            </div>

            <!-- Connect With Us -->
            <div>
                <h3 class="text-xl font-semibold text-white mb-4">Connect With Us</h3>
                <p class="text-sm mb-4">Email: <a href="mailto:alliedalgorithms@gmail.com" class="hover:text-white transition duration-300 ease-in-out">alliedalgorithms@gmail.com</a></p>
                <div class="flex justify-center md:justify-start space-x-4">
                    <!-- Font Awesome Icons -->
                    <a href="#" class="text-gray-400 hover:text-white transition duration-300 ease-in-out text-2xl" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white transition duration-300 ease-in-out text-2xl" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white transition duration-300 ease-in-out text-2xl" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.youtube.com/@YourYouTubeChannel" target="_blank" class="text-gray-400 hover:text-white transition duration-300 ease-in-out text-2xl" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>

        </div>

        <div class="border-t border-gray-700 mt-8 pt-6 text-center text-sm text-gray-500">
            &copy; 2025 Allied Algorithms. All rights reserved. | Powered by LEGO Education & FIRST
        </div>
    </footer>

    <!-- JavaScript to manage the Mobile Menu toggle, Scroll Effect, AND Truck Animation -->
    <script>
        // Global variables for the new animation elements
        let truck, message, tireMarks;
        
        // Function to handle the payment simulation and animation
        function simulatePayment() {
            if (!truck || !message || !tireMarks) {
                console.error('Animation elements not initialized.');
                return;
            }

            // Disable the button to prevent double-clicks
            const buyButton = document.querySelector('button[onclick="simulatePayment()"]');
            if (buyButton) {
                buyButton.disabled = true;
                buyButton.textContent = 'Processing...';
                buyButton.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');
                buyButton.classList.add('bg-gray-400');
            }
            
            // --- START ANIMATION ON CLICK ---
            
            // The driveOff keyframe's 0% state handles making the truck appear at 5vw
            // and setting opacity: 1, so we just add the class to start the animation.
            truck.classList.add('drive-off');

            // Expand tire marks as truck drives off (120% ensures coverage on all screens)
            tireMarks.style.width = '120%';

            setTimeout(() => {
                // Show payment message after truck is mostly off-screen
                message.style.opacity = 1;
                message.textContent = 'Success! Your kit is shipping now!';
            }, 2000);

            setTimeout(() => {
                // Fade out message and remove tire tracks
                message.style.opacity = 0;
                tireMarks.style.width = '0'; 
                // Resetting for potential future clicks if button was re-enabled
            }, 4000);
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize global variables
            truck = document.getElementById('loadingTruck');
            message = document.getElementById('paymentMessage');
            tireMarks = document.getElementById('tireMarks');
            
            // NOTE: Initial drive-in logic has been removed so the truck only appears on click.

            // --- Mobile Menu Toggle Logic ---
            const button = document.getElementById('mobile-menu-button');
            const menu = document.getElementById('mobile-menu');
            const menuIconOpen = button.querySelector('svg:first-child');
            const menuIconClose = button.querySelector('svg:last-child');

            if (button && menu) {
                button.addEventListener('click', () => {
                    const isExpanded = menu.classList.contains('hidden');
                    
                    if (isExpanded) {
                        menu.classList.remove('hidden');
                        menuIconOpen.classList.add('hidden');
                        menuIconClose.classList.remove('hidden');
                        button.setAttribute('aria-expanded', 'true');
                    } else {
                        menu.classList.add('hidden');
                        menuIconOpen.classList.remove('hidden');
                        menuIconClose.classList.add('hidden');
                        button.setAttribute('aria-expanded', 'false');
                    }
                });
            }

            // --- Scroll Effect Logic ---
            const nav = document.getElementById('main-nav');
            const scrolledClass = 'scrolled-nav-style'; // The class defined in <style>
            const initialBgClass = 'bg-white'; // Class for mobile menu background

            if (nav) {
                const handleScroll = () => {
                    // Check if user has scrolled down more than 50 pixels
                    if (window.scrollY > 50) {
                        if (!nav.classList.contains(scrolledClass)) {
                            nav.classList.add(scrolledClass);
                            // Ensure the mobile menu has a solid background when scrolled down
                            menu.classList.add(initialBgClass); 
                        }
                    } else {
                        // Remove the scroll class if at the top
                        if (nav.classList.contains(scrolledClass)) {
                            nav.classList.remove(scrolledClass);
                            // Remove the mobile menu background when back at the top
                            menu.classList.remove(initialBgClass);
                        }
                    }
                };
                
                // Add the event listener for continuous checking during scrolling
                window.addEventListener('scroll', handleScroll);
                // Call it once on load
                handleScroll();
            }
        });
    </script>

</body>
</html>